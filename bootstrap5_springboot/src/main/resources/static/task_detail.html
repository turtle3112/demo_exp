<!DOCTYPE html>
<html lang="vi">

<head>
	<meta charset="UTF-8">
	<title>Chi ti·∫øt c√¥ng vi·ªác</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="container py-4">

	<div class="d-flex justify-content-between align-items-center mb-4">
		<h3 id="taskName">T√™n c√¥ng vi·ªác</h3>
		<div class="d-flex gap-2">
			<button id="btnAssign" class="btn btn-primary d-none">Ph√¢n c√¥ng</button>
			<button id="btnEdit" class="btn btn-warning d-none">S·ª≠a</button>
			<button id="btnDelete" class="btn btn-danger d-none">Xo√°</button>
			<button id="btnBack" class="btn btn-outline-secondary btn-sm">Quay l·∫°i</button>
		</div>
	</div>

	<ul class="list-group mb-4">
		<li class="list-group-item"><strong>M√¥ t·∫£:</strong> <span id="taskDesc"></span></li>
		<li class="list-group-item"><strong>Tr·∫°ng th√°i:</strong> <span id="taskStatus"
				class="badge bg-secondary"></span></li>
		<li class="list-group-item"><strong>Deadline:</strong> <span id="taskDeadline"></span></li>
		<li class="list-group-item"><strong>Ng∆∞·ªùi ƒë∆∞·ª£c giao:</strong> <span id="taskUsers"></span></li>
	</ul>

	<div id="statusUpdateSection" class="d-none mb-4">
		<label for="statusSelect">C·∫≠p nh·∫≠t tr·∫°ng th√°i:</label>
		<select id="statusSelect" class="form-select w-auto d-inline-block mx-2">
			<option value="TODO">TODO</option>
			<option value="IN_PROGRESS">IN_PROGRESS</option>
			<option value="DONE">DONE</option>
		</select>
		<button class="btn btn-primary btn-sm" id="btnUpdateStatus">C·∫≠p nh·∫≠t</button>
	</div>

	<ul class="nav nav-tabs mb-3" id="tabSection">
		<li class="nav-item">
			<a class="nav-link active" data-bs-toggle="tab" href="#tab-comments">üí¨ B√¨nh lu·∫≠n</a>
		</li>
		<li class="nav-item">
			<a class="nav-link" data-bs-toggle="tab" href="#tab-files">üìé File ƒë√≠nh k√®m</a>
		</li>
	</ul>

	<div class="tab-content">
		<div class="tab-pane fade show active" id="tab-comments">
			<div id="commentList" class="mb-3"></div>
			<div class="input-group">
				<input type="text" class="form-control" id="newComment" placeholder="Nh·∫≠p b√¨nh lu·∫≠n...">
				<button class="btn btn-primary" id="btnSendComment">G·ª≠i</button>
			</div>
		</div>

		<div class="tab-pane fade" id="tab-files">
			<ul id="fileList" class="list-group mb-3"></ul>
			<form id="uploadForm" enctype="multipart/form-data">
				<input type="file" name="file" class="form-control mb-2" required>
				<button class="btn btn-success" type="submit">T·∫£i l√™n</button>
			</form>
		</div>

	</div>

	<!-- Modal s·ª≠a task -->
	<div class="modal fade" id="editTaskModal" tabindex="-1">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title">S·ª≠a c√¥ng vi·ªác</h5>
				</div>
				<div class="modal-body">
					<input type="text" id="editTaskName" class="form-control mb-2" placeholder="T√™n c√¥ng vi·ªác">
					<textarea id="editTaskDesc" class="form-control mb-2" placeholder="M√¥ t·∫£ c√¥ng vi·ªác"></textarea>
					<input type="date" id="editTaskDeadline" class="form-control mb-2">
				</div>
				<div class="modal-footer">
					<button class="btn btn-secondary" data-bs-dismiss="modal">Hu·ª∑</button>
					<button class="btn btn-primary" id="saveTaskEdit">L∆∞u thay ƒë·ªïi</button>
				</div>
			</div>
		</div>
	</div>

	<!-- Modal ph√¢n c√¥ng user -->
	<div class="modal fade" id="assignUserModal" tabindex="-1">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title">Ph√¢n c√¥ng ng∆∞·ªùi d√πng</h5>
				</div>
				<form id="assignForm">
					<div class="modal-body">
						<div id="userCheckboxList" class="form-check"></div>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Hu·ª∑</button>
						<button type="submit" class="btn btn-success" id="saveAssignment">X√°c nh·∫≠n</button>
					</div>
				</form>
			</div>
		</div>
	</div>

	<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
	<script src="js/task_detail.js"></script>
	<script src="js/auth-check.js"></script>
</body>

</html>