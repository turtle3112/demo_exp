<!DOCTYPE html>
<html lang="vi">

<head>
	<meta charset="UTF-8">
	<title>Dá»± Ã¡n - Task Manager</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link href="css/styles.css" rel="stylesheet">
</head>

<body>
	<nav class="navbar navbar-expand-lg navbar-light bg-light px-4">
		<span class="navbar-brand fw-bold" id="currentUsername"></span>
		<div class="ms-auto d-flex align-items-center gap-3">
			<button onclick="window.location.href = 'dashboard.html'" id="btnDashboard"
				class="btn btn-outline-secondary d-none">Dashboard</button>
			<button id="btnCreateProject" class="btn btn-primary d-none" data-bs-toggle="modal"
				data-bs-target="#createProjectModal">Táº¡o dá»± Ã¡n má»›i</button>
			<button onclick="window.location.href = 'login.html'" class="btn btn-outline-secondary btn-sm">ÄÄƒng
				xuáº¥t</button>
			<div id="notificationIcon" class="position-relative cursor-pointer">
				<img src="assets/bell.png" width="24" height="24" alt="ThÃ´ng bÃ¡o">
				<span id="notiBadge"
					class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-warning d-none">!</span>
			</div>
		</div>
	</nav>
	<div id="notificationDropdown" class="position-absolute bg-white shadow rounded p-2"
		style="right: 20px; top: 60px; width: 700px; display: none; z-index: 1000;">
		<h6>ğŸ”” ThÃ´ng bÃ¡o má»›i</h6>
		<ul id="notificationList" class="list-unstyled mb-0" style="max-height: 300px; overflow-y: auto;"></ul>
	</div>

	<div class="container mt-4">
		<h3>Danh sÃ¡ch dá»± Ã¡n</h3>

		<!-- Search + Sort -->
		<div class="d-flex justify-content-between align-items-center mb-3">
			<input type="text" id="searchInput" class="form-control w-50" placeholder="TÃ¬m kiáº¿m theo tÃªn dá»± Ã¡n...">
			<select id="sortSelect" class="form-select w-25">
				<option value="">-- Sáº¯p xáº¿p --</option>
				<option value="name-asc">TÃªn A-Z</option>
				<option value="name-desc">TÃªn Z-A</option>
			</select>
		</div>

		<div id="projectList" class="row mt-3"></div>
	</div>

	<div class="modal fade" id="createProjectModal" tabindex="-1">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title">Táº¡o Dá»± Ãn Má»›i</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal"></button>
				</div>
				<div class="modal-body">
					<div class="mb-3">
						<label>TÃªn dá»± Ã¡n</label>
						<input type="text" class="form-control" id="newProjectName">
					</div>
					<div class="mb-3">
						<label>MÃ´ táº£ dá»± Ã¡n</label>
						<textarea class="form-control" id="newProjectDescription" rows="3"></textarea>
					</div>
					<div class="mb-3">
						<label>PhÃ¢n cÃ´ng nhÃ¢n viÃªn</label>
						<div id="newProjectUserCheckboxes"></div>
					</div>
				</div>
				<div class="modal-footer">
					<button class="btn btn-secondary" data-bs-dismiss="modal">Huá»·</button>
					<button class="btn btn-primary" id="btnSubmitCreateProject">Táº¡o</button>
				</div>
			</div>
		</div>
	</div>

	<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
	<script src="js/projects.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
	<script>
		const user = JSON.parse(localStorage.getItem('user'));
		if (user) {
			document.getElementById('currentUsername').innerText = "Xin chÃ o, " + user.fullName || user.username;
		}
	</script>
	<script src="js/auth-check.js"></script>
</body>

</html>